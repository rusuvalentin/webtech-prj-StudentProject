<div>
    <h2>Studenti</h2>
    <table class = "pure-table pure-table-bordered">
        <tr>
            <th>Nume</th>
            <th>Prenume</th>
            <th>Email</th>
            <th>Facultate</th>
            <th></th>
        </tr>
        <tr ng-repeat="student in students" ng-include="getTemplateState(student)">

        </tr>
    </table>
    <h2>Adauga un student</h2>
    <form name="addStudentForm" class= "pure-form">
        <label for="numeStudent">Nume</label>
        <input type="text" id="numeStudent" name ="nStud" ng-model="student.nume" required minlength ="3" />
        <label for="prenumeStudent">Prenume</label>
        <input type="text" id="prenumeStudent" name="pStud" ng-model="student.prenume" required minlength ="3" />
        <label for="emailStudent">Email</label>
        <input type="email" id="studentEmail" name="eStud" ng-model="student.email"  />
        <label for="UniversityIdStudent">Facultate</label>
        <select ng-model = "student.UniversityId">
            <option ng-repeat="university in universities" value="{{university.id}}">{{university.nume}}</option>
       </select>
        <input type="button" class="button-secondary pure-button" value="Adauga" ng-click="addStudent(student)" />
      
        <div ng-messages="addStudentForm.nStud.$error" style="color:maroon" role="alert" md-auto-hide="false" ng-if="addStudentForm.nStud.$touched">
                <div ng-message="required">Nu ai introdus numele</div>
                <div ng-message="minlength">Numele trebuie sa contina mai mult de 3 litere</div>
         </div>
         <div ng-messages="addStudentForm.pStud.$error" style="color:maroon" role="alert" md-auto-hide="false" ng-if="addStudentForm.pStud.$touched">
                <div ng-message="required">Nu ai introdus prenumele</div>
                <div ng-message="minlength">Prenumele trebuie sa contina mai mult de 3 litere</div>
         </div>
         
         
         <div ng-messages="addStudentForm.eStud.$error" style="color:maroon" role="alert" md-auto-hide="false" ng-if="addStudentForm.eStud.$touched">
            <div ng-message="email">Aceasta nu este o adresa de email valida</div>
        
        </div>
        
    </form>

    <script type="text/ng-template" id="display">
        <td>{{student.nume}}</td>
        <td>{{student.prenume}}</td>
        <td>{{student.email}}</td>
         <td>{{findUniversityById(student)}}</td>
      

        <td>
            <input type="button" class="button-error pure-button" value="Stergere" ng-click="deleteStudent(student)" />
            <input type="button" class="button-warning pure-button"  value="Editare" ng-click="editStudent(student)" />
        </td>
    </script>
    <script type="text/ng-template" id="edit" name = "EditForm">
        <td><input type="text" ng-model="student.nume" required minlength ="3" name = "editNumeStud" />
            <div ng-messages="EditForm.editNumeStud.$error" style="color:maroon" role="alert" md-auto-hide="false" ng-if="EditForm.editNumeStud.$touched">
                <div ng-message="required">Nu ai introdus numele</div>
                <div ng-message="minlength">Numele trebuie sa contina mai mult de 3 litere</div>
            </div>
          
        </td>
        <td><input type="text" ng-model="student.prenume" /></td>
        <td><input type="text" ng-model="student.email" /></td>
        <td><input type="text" ng-model="student.UniversityId" /></td>

        <td>
            <input type="button" class="button-error pure-button" value="Cancel" ng-click="cancelEditing()" />
            <input type="button" class="button-success pure-button" value="Save" ng-click="saveStudent(student)" />
        </td>
        
    </script>
</div>
